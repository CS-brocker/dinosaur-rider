# 운영체제 스터디 6주차 정리

5.6 부터

## 실시간 CPU 스케줄링

### 연성 실시간 시스템

\: 중요한 실시간 프로세스가 스케줄 되는 시점에 관해 아무런 보장을 하지 않음.
→ 오직 중요 프로세스가 그렇지않은 프로세스들에 비해 우선권을 가진다는 것만 보장

### 경성 실시간 시스템

\: 더 엄격한 요구 조건을 만족시켜야 함.
→ 반드시 마감시간까지 서비스를 받아야 함.

### 이벤트 지연 시간

\: 이벤트가 발생해서 그에 맞는 서비스가 수행될 때까지의 시간

- 인터럽트 지연시간
    - CPU에 인터럽트가 발생한 시점부터 해당 인터럽트 처리 루틴이 시작하기까지의 시간
    - OS는 우선 수행 중인 명령어를 완수하고 발생한 인터럽트의 종류를 결정
    - 인터럽트 서비스 루틴(ISR)을 사용해 인터럽트를 처리하기 전에 현재 수행 중인 프로세스의 상태를 저장해 놓아야만 함.
- 디스패치 지연시간
    - 하나의 프로세스를 블록시키고 다른 프로세스를 시작하는 데까지 걸리는 시간
    - 충돌 단계
        1. 커널에 동작하는 프로세스에 대한 선점
        2. 높은 우선순위의 프로세스가 필요한 자원을 낮은 우선순위 프로세스 자원이 방출

      이후 디스패치 단계는 우선순위가 높은 프로세스를 사용 가능한 CPU에 스케줄 함.


## 우선순위 기반 스케줄링

실시간 프로세스에 CPU가 필요할 때 바로 응답을 해주는 것

→ OS 스케줄러는 선점을 이용한 우선순위 기반의 알고리즘을 지원해야 함.

- 선점 및 우선순위 기반의 스케줄러를 제공하는 것은 단지 연성 실시간 기능을 제공하는 것에 불가함.
- 경성 실시간 시스템에서는 실시간 태스크가 마감시간 내에 확실히 수행되는 것을 보장해야 하기 때문에 부가적인 스케줄링 기법이 필요함.
- 승인 제어 알고리즘을 이용해 스케줄러는 마감시간 이내에 완수할 수 있는 프로세스는 실행을 허락하고 그렇지 못한 경우에는 요구를 거절함.

## Rate-Monotonic 스케줄링

\: 선점 가능한 정적 우선순위 정책을 이용해 주기 태스크들을 스케줄 함.

- 각 주기 태스크들이 시스템에 진입하면 주기에 따라 우선순위가 정해짐.
- 주기가 짧은 태스크는 높은 우선순위를 가짐.
  → CPU를 더 자주 필요로 하는 태스크에 더 높은 우선순위를 주려는 원리에 기반을 둠.
- 최적이긴 하지만 CPU 이용률은 한계가 있기 때문에 CPU 자원을 최대로 사용하는 것은 불가능함.

\## Earliest-Deadline-First 스케줄링

: 마감시간에 따라 우선순위를 동적으로 부여함.

- 마감시간이 빠를수록 우선순위가 높아짐.
- 프로세스가 실행 가능하게 되면 자신의 마감시간을 시스템에 알려야 하고, 우선순위는 새로 실행 가능하게 된 프로세스의 마감시간에 맞춰서 다시 조정됨.
- 이론적으로는 최적이고, CPU 이용률도 100%가 될 수 있음.
- 실제로는 프로세스 사이 또는 인터럽트 핸들링 때의 문백 교환 비용 때문에 100%의 CPU 이용률은 불가능함.

## 일정 비율의 몫 스케줄링

\: 모든 응용들에 T개의 시간 몫을 할당해 동작함.

- 한 개의 응용이 N개의 시간 몫을 할당받으면 그 응용은 모든 프로세스 시간 중 N/T 시간을 할당받게 됨.
- 응용이 시간 몫을 할당받는 것을 보장하는 승인 제어 정책과 함께 동작해야만 함.
- 승인 제어 정책은 사용 가능한 충분한 몫이 존재할 때 그 범위 내의 몫을 요구하는 클라이언트에게만 실행을 허락함.

## 알고리즘 평가

스케줄링 알고리즘은 각각 자신의 매개변수를 가지고 있고, 최적의 값을 선택해야 함.

- CPU 이용률, 응답 시간, 처리량 등을 사용할 수도 있음.

### 분석적 평가

\: 작업 부하에 대한 알고르짐의 성능을 평가하는 공식이나 값을 생성하기 위해 주어진 알고리즘과 시스템 작업 부하를 이용함.

### 결정론적 모델링

\: 분석적 평가의 한 가지 유형으로 사전에 정의된 특정한 작업 부하를 받아들여 그 작업 부하에 대한 각 알고리즘의 성능을 정의함.

### 큐잉 모델

프로세스들은 계속 변화하기 때문에 결정론적 모델링을 사용할 수 있는 프로세스들의 정적인 집합은 없음.

→ 결정할 수 있는 것은 CPU, I/O 버스트의 분포

→ 이런 분포나 프로세스들이 시스템에 도착하는 시간의 분포는 보통 지수적이며 평균으로 기술될 수 있다.

→ 두 분포로부터 알고리즘 대부분에 대한 평균 처리량, 이용률, 대시 시간 등을 계산하는 것이 가능함.

이용률, 평균 큐 길이, 평균대기 시간을 계산하고 연구하는 것을 큐잉 “네트워크 분석”이라고 함.